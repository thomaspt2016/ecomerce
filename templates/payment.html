{% extends 'base.html' %}
{% block content %}
    <div class="all-title-box">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h2>Razorpay Payment</h2>
                    <ul class="breadcrumb">
                        <li class="breadcrumb-item"><a href="#">Shop</a></li>
                        <li class="breadcrumb-item active">Payment</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
{% if messages %}
    {% for i in messages %}
        {{i}}
    {% endfor %}
{% else %}
<div class="container w-50 mt-5 p-5 text-center">
<form action="{% url 'cart:paymentsuccess' name %}" method="POST">
    {% csrf_token %}
<script
   src="https://checkout.razorpay.com/v1/checkout.js"
    data-key="rzp_test_OmlKutnLm3oYqJ" // Enter the Test API Key ID generated from Dashboard → Settings → API Keys
    data-amount="{{payment.amount}}" // Amount is in currency subunits. Hence, 29935 refers to 29935 paise or ₹299.35.
    data-currency="INR"// You can accept international payments by changing the currency code. Contact our Support Team to enable International for your account
    data-order_id="{{payment.id}}"// Replace with the order_id generated by you in the backend.
    data-buttontext="Pay with Razorpay"
    data-name="My Shop"
    data-description="A Wild Sheep Chase is the third novel by Japanese author Haruki Murakami"
    data-image="https://example.com/your_logo.jpg"
    data-prefill.name="{{name}}"
    data-prefill.email="gaurav.kumar@example.com"
    data-theme.color="white"
></script>
<input type="hidden" custom="Hidden Element" name="hidden"/>
</form>

    </div>
{% endif %}
{% endblock %}
